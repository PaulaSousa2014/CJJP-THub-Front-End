<ng-container *ngIf="!partySeleccionada">
  <p class="text-center mt-5">No tienes ningún chat abierto.</p>
</ng-container>
<ng-container *ngIf="partySeleccionada">
  <div class="container">
    <div class="user-info">
      <h4 class="mt-3">{{ partySeleccionada }}</h4>
      <hr class="my-3" />
      <!-- Agrega aquí cualquier información adicional del usuario -->
    </div>

    <div class="container">
      <div class="chat">
        <div *ngIf="messages.length > 0; else emptyChat">
          <div *ngFor="let message of messages" class="message">
            <div *ngIf="message.party.id === partyId" class="message">
              <div *ngIf="message.sender === 'Me'; else otherUser">
                <div class="sender">
                  <p>{{ message.content }}</p>
                  <span class="timestamp">{{ message.timestamp }}</span>
                </div>
              </div>
              <ng-template #otherUser>
                <div class="other-user">
                  <p>{{ message.content }}</p>
                  <span class="timestamp">{{ message.timestamp }}</span>
                </div>
              </ng-template>
            </div>

          </div>
        </div>
        <ng-template #emptyChat>
          <p class="empty-chat">El chat está vacío.</p>
        </ng-template>
      </div>
    </div>

    <div class="input-group message-input">
      <input
        type="text"
        class="form-control button-send"
        [(ngModel)]="message.content"
        placeholder="Type message"
        aria-label="Recipient's username"
        aria-describedby="button-addon2"
      />

      <button type="button" class="btn mt-3" (click)="submitMessage()">
        <i class="bi bi-send" style="color: #f9fafa"></i>
      </button>
    </div>
  </div>
</ng-container>
